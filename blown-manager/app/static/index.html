<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Cosmic-Infra Manager Pro</title>
<meta name="color-scheme" content="dark">
<link rel="stylesheet" href="/static/css/app.css">
</head>
<body>

  <!-- Top bar -->
  <div class="topbar">
    <div class="app-title">
      <div class="logo" aria-hidden="true"></div>
      <div>
        Cosmic-Infra Manager <span class="pill">Pro</span>
      </div>
    </div>

    <div class="spacer"></div>

    <div class="search">
      <svg width="16" height="16" fill="currentColor" style="opacity:.75"><path d="M11 11l4 4m-2-7a5 5 0 11-10 0 5 5 0 0110 0z"/></svg>
      <input id="search" placeholder="Search files & projects ( / )">
      <span class="kbd">?</span>
    </div>

    <div class="btn-switch" id="modeSwitch">
      <button id="modeCopy" class="btn active">Copy</button>
      <button id="modeSymlink" class="btn">Symlink</button>
    </div>

    <button id="refreshAll" class="btn icon brand">
      <svg width="16" height="16" fill="currentColor"><path d="M3 8a5 5 0 019.8-1M13 8a5 5 0 01-9.8 1M2 2v4h4"/></svg>
      Refresh
    </button>

    <button id="snapshotBtn" class="btn icon">
      <svg width="16" height="16" fill="currentColor"><path d="M4 5h2l1-1h4l1 1h2v8H4z"/></svg>
      Snapshot
    </button>

    <button id="healthBtn" class="btn icon">
      <svg width="16" height="16" fill="currentColor"><path d="M8 2l2 4 4 .6-3 3 .8 4.4L8 11l-3.8 3 1-4.4-3-3L6 6.2z"/></svg>
      Health
    </button>

    <button id="undoBtn" class="btn icon">
      <svg width="16" height="16" fill="currentColor"><path d="M3 7l4-4v3h4a4 4 0 110 8H9"/></svg>
      Undo
    </button>

    <button id="stopAll" class="btn danger icon">
      <svg width="16" height="16" fill="currentColor"><path d="M3 3h10v10H3z"/></svg>
      Stop All
    </button>
  </div>

  <!-- Main layout -->
  <div class="wrap">
    <!-- Library -->
    <aside class="panel library" aria-label="Library panel">
      <h3 class="row">
        <span>ðŸ“š Library</span>
        <span class="right muted" id="libCount"></span>
      </h3>
      <div id="libraryList">
        <!-- skeletons -->
        <div class="skeleton"></div><div class="skeleton"></div><div class="skeleton"></div>
      </div>
      <div class="row" style="margin-top:10px">
        <span class="muted">Drag & drop onto any project card.</span>
      </div>
    </aside>

    <!-- Projects -->
    <main>
      <div class="grid" id="projectsGrid">
        <!-- skeleton cards -->
        <div class="card"><div class="card-head"><div class="title"><span class="health h-unk"></span><span class="skeleton" style="width:140px"></span></div></div><div class="card-body"><div class="skeleton"></div><div class="skeleton" style="margin-top:8px"></div></div></div>
        <div class="card"><div class="card-head"><div class="title"><span class="health h-unk"></span><span class="skeleton" style="width:140px"></span></div></div><div class="card-body"><div class="skeleton"></div><div class="skeleton" style="margin-top:8px"></div></div></div>
        <div class="card"><div class="card-head"><div class="title"><span class="health h-unk"></span><span class="skeleton" style="width:140px"></span></div></div><div class="card-body"><div class="skeleton"></div><div class="skeleton" style="margin-top:8px"></div></div></div>
      </div>
    </main>
  </div>

  <!-- Event drawer -->
  <section class="drawer" id="eventsDrawer" aria-live="polite">
    <div class="row" style="justify-content:space-between; margin-bottom:6px">
      <strong>Recent events</strong>
      <button class="btn btn-small ghost" onclick="toggleDrawer(false)">Close</button>
    </div>
    <div id="eventList"></div>
  </section>

  <!-- Toasts -->
  <div class="toasts" id="toasts"></div>

  <!-- Confirm modal -->
  <div class="modal-backdrop" id="confirmBackdrop" role="dialog" aria-modal="true">
    <div class="modal">
      <h3 id="confirmTitle" style="margin:0 0 6px 0">Confirm</h3>
      <p id="confirmMsg" class="muted" style="margin:0 0 10px 0"></p>
      <footer>
        <button class="btn ghost" onclick="confirmClose(false)">Cancel</button>
        <button class="btn danger" id="confirmOk">Confirm</button>
      </footer>
    </div>
  </div>

<script src="/static/js/app.js" defer></script>
</body>
</html>
